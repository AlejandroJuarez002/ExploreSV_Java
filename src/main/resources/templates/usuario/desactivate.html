<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="/layouts/_mainLayout">

<head>
  <style>
    /* Fondo general */
    body {
        background: #f5f7fa;
        font-family: "Poppins", sans-serif;
        color: #333;
        margin: 0;
        padding: 0;
    }

    /* Título */
    h1 {
        font-weight: 600;
        font-size: 2rem;
        margin-bottom: 25px;
        color: #d63031;
        text-align: center;
    }

    /* Párrafos */
    p {
        font-size: 1.05rem;
        color: #2d3436;
        text-align: center;
        margin-bottom: 20px;
    }

    /* Contenedor */
    div[layout\\:fragment="content"] {
        background: #fff;
        border-radius: 14px;
        padding: 25px 30px;
        box-shadow: 0px 6px 18px rgba(0, 0, 0, 0.08);
        max-width: 650px;
        margin: 50px auto;
        text-align: center;
    }

    /* Alertas */
    .alert {
        padding: 14px 18px;
        border-radius: 10px;
        font-weight: 500;
        margin-bottom: 20px;
        text-align: center;
    }

    .alert-danger {
        background: #ffe3e3;
        color: #b71c1c;
        border: 1px solid #f5c2c2;
    }

    /* Botón desactivar */
    button.btn-warning {
        background: #fdcb6e;
        border: none;
        border-radius: 8px;
        font-weight: 500;
        padding: 10px 20px;
        transition: all 0.3s ease;
        cursor: pointer;
    }

    button.btn-warning:hover {
        background: #e17055;
        color: #fff;
        transform: translateY(-2px);
        box-shadow: 0px 6px 14px rgba(0, 0, 0, 0.12);
    }

    /* Botón regresar */
    a.btn-secondary {
        display: inline-block;
        margin-top: 15px;
        border-radius: 8px;
        font-weight: 500;
        padding: 10px 20px;
        text-decoration: none;
        border: 1px solid #6c757d;
        color: #6c757d;
        transition: all 0.3s ease;
    }

    a.btn-secondary:hover {
        background: #6c757d;
        color: #fff;
        transform: translateY(-2px);
        box-shadow: 0px 6px 14px rgba(0, 0, 0, 0.12);
    }

    /* Responsividad */
    @media (max-width: 768px) {
        div[layout\\:fragment="content"] {
            padding: 20px;
            margin: 20px;
        }
        h1 {
            font-size: 1.6rem;
        }
        p {
            font-size: 0.95rem;
        }
    }
  </style>
</head>

<div layout:fragment="content">
  <h1>Confirmar Desactivación</h1>

  <p>
    ¿Está seguro que desea desactivar al usuario
    <strong th:text="${usuario.nombre} + ' ' + ${usuario.apellido}"></strong>
    con nombre de usuario <strong th:text="${usuario.nombreUsuario}"></strong>?
  </p>

  <!-- Si es el mismo usuario logeado -->
  <div th:if="${esMismoUsuario}" class="alert alert-danger" role="alert">
    No puedes desactivar el usuario con el que has iniciado sesión actualmente.
  </div>

  <!-- Si NO es el mismo usuario, mostrar formulario -->
  <form th:if="${!esMismoUsuario}"
        th:action="@{/usuarios/desactivate/{id}(id=${usuario.id})}"
        method="post">
    <button type="submit" class="btn btn-warning">Desactivar</button>
  </form>

  <a th:href="@{/usuarios}" class="btn btn-secondary mt-2">Regresar</a>
</div>
</html>
